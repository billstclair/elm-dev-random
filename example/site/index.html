<!---------------------------------------------------------------------
--
-- index.html
-- Main index for port-based example of DevRandom module.
-- Copyright (c) 2017 Bill St. Clair <billstclair@gmail.com>
-- Some rights reserved.
-- Distributed under the MIT License
-- See LICENSE.txt
--
----------------------------------------------------------------------->

<html>
<head>
<title>Diceware Passphrase Generator</title>
<script type='text/javascript' src='js/dev-random-port.js'></script>
<!-- Change Main.js to the file name into which you compile your Elm code. -->
<script type='text/javascript' src='js/Main.js'></script>
</head>
<body>

<script type="text/javascript">

//
// This script assumes that your main Elm file declares itself as:
//
//    port module Main
//
// It also assumes that the port used to send information here is named
// getDevRandomInt and the port used to respond is named receiveRandomInt.
// The former takes an integer arg, the number of random bytes to generate.
// The latter takes a List of integers, the random bytes.
//
// port getDevRandomInt : Int -> Cmd msg
// port receiveRandomInt : ((Bool, Int) -> msg) -> Sub msg
//
// If you need to name your main module something other than Main
// or to name your ports something other than getDevRandom & receiveRandomInt,
// you'll have to edit those appropriately.
//

// Start the Elm app.
// dynamoServerInfo is defined by dynamo-server-info.js
// Assumes a full screen app. If you need to embed, change it
// appropriately.
var app = Elm.Main.fullscreen(null);

// Connect to the ports
// devRandomPort is defined in js/dev-random-port.js
devRandomPort.initInt(app.ports.getDevRandomInt, app.ports.receiveRandomInt);

</script>

</body>
</html>
